{"ast":null,"code":"import _defineProperty from\"/Users/stephanie/Desktop/programming/full-auth/auth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/stephanie/Desktop/programming/full-auth/auth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/stephanie/Desktop/programming/full-auth/auth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';//write a custom hook (function)\nvar useForm=function useForm(validation){//where do i need submit and validation functions?\nvar _useState=useState({//declare a hook\nname:'',email:'',password:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];//declare another hook\nvar handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){//we need to build API to pass it to the server side.\ne.preventDefault();setError(validation(values));//update error\n//console.log(values);\naxios.post('http://localhost:8080/api/user/register',values).then(function(response){console.log(response);}).catch(function(error){console.log(error);});//window.location to redirect to another page \n//clear all the input field\n};return{handleChange:handleChange,handleSubmit:handleSubmit,values:values,error:error};};export default useForm;","map":{"version":3,"sources":["/Users/stephanie/Desktop/programming/full-auth/auth-frontend/src/useForm.js"],"names":["React","useState","axios","useForm","validation","name","email","password","values","setValues","error","setError","handleChange","e","target","value","handleSubmit","preventDefault","post","then","response","console","log","catch"],"mappings":"0hBAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA,GAAMC,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,CAACC,UAAD,CAAc,CACxB;AACA,cAAyBH,QAAQ,CAAC,CAAE;AAChCI,IAAI,CAAC,EADyB,CAE9BC,KAAK,CAAC,EAFwB,CAG9BC,QAAQ,CAAC,EAHqB,CAAD,CAAjC,wCAAOC,MAAP,eAAcC,SAAd,eAKA,eAAuBR,QAAQ,CAAC,EAAD,CAA/B,yCAAOS,KAAP,eAAaC,QAAb,eAAmC;AACnC,GAAMC,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,CAAAC,CAAC,CAAE,CACnB,cAAoBA,CAAC,CAACC,MAAtB,CAAOT,IAAP,WAAOA,IAAP,CAAaU,KAAb,WAAaA,KAAb,CACCN,SAAS,gCACFD,MADE,wBAEJH,IAFI,CAEEU,KAFF,GAAT,CAIH,CAND,CAOA,GAAMC,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,CAAAH,CAAC,CAAE,CAAC;AACnBA,CAAC,CAACI,cAAF,GACAN,QAAQ,CAACP,UAAU,CAACI,MAAD,CAAX,CAAR,CAA4B;AAC5B;AACAN,KAAK,CAACgB,IAAN,CAAW,yCAAX,CAAqDV,MAArD,EACCW,IADD,CACM,SAACC,QAAD,CAAY,CACdC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACH,CAHD,EAGGG,KAHH,CAGS,SAACb,KAAD,CAAS,CACdW,OAAO,CAACC,GAAR,CAAYZ,KAAZ,EACH,CALD,EAMA;AACA;AACF,CAZF,CAaC,MAAO,CACHE,YAAY,CAAZA,YADG,CAEHI,YAAY,CAAZA,YAFG,CAGHR,MAAM,CAANA,MAHG,CAIHE,KAAK,CAALA,KAJG,CAAP,CAMJ,CAlCD,CAmCA,cAAeP,CAAAA,OAAf","sourcesContent":["import React,{useState} from 'react'\nimport axios from 'axios';\n//write a custom hook (function)\nconst useForm=(validation)=>{\n    //where do i need submit and validation functions?\n    const [values,setValues]=useState({ //declare a hook\n        name:'',\n        email:'',\n        password:''\n    });\n    const [error,setError]=useState({})//declare another hook\n    const handleChange=e=>{\n       const {name, value}=e.target;\n        setValues({ \n            ...values,//important.spread all the fields(copy the whole object),then overwrite the name field.otherwise it will only display name.\n            [name]:value\n        })\n    }\n    const handleSubmit=e=>{//we need to build API to pass it to the server side.\n        e.preventDefault();\n        setError(validation(values))//update error\n        //console.log(values);\n        axios.post('http://localhost:8080/api/user/register',values)\n        .then((response)=>{\n            console.log(response);\n        }).catch((error)=>{\n            console.log(error);\n        })\n        //window.location to redirect to another page \n        //clear all the input field\n     }\n     return {\n         handleChange,\n         handleSubmit,\n         values,\n         error\n     }\n}\nexport default useForm;"]},"metadata":{},"sourceType":"module"}